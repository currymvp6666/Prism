# 备忘录App 技术文档

## 1. 项目简介
备忘录App是一款桌面备忘录应用，帮助用户管理日常任务和备忘录。主要功能：
- 新增、编辑、删除备忘录
- 分类和标签管理
- 搜索和排序
- 设置提醒时间
- 数据持久化到 SQL Server
- 提供数据备份和恢复

---

## 2. 技术选型
| 技术类别 | 技术选型               | 说明                      |
| -------- | ---------------------- | ------------------------- |
| 开发语言 | C#                     | 使用 .NET Core 7 框架开发 |
| 前端框架 | WPF + MVVM             | 桌面界面和数据绑定        |
| 数据库   | SQL Server (SSMS)      | 数据存储                  |
| ORM      | Entity Framework Core  | 数据持久化                |
| 日志     | Serilog                | 系统日志                  |
| 编辑器   | Visual Studio / Typora | 开发和文档编写            |
| 版本管理 | Git                    | 源码管理和版本控制        |

---

## 3. 系统架构
系统采用 **MVVM 架构**，模块划分如下：
- **Model**：数据模型（备忘录、分类、标签）
- **ViewModel**：业务逻辑处理与数据绑定
- **View**：WPF 界面显示
- **Services**：提醒、搜索、备份等功能
- **Data**：数据库访问层
- **Common**：工具类和日志管理

---

## 4. 数据库设计

### 4.1 数据表结构
| 表名 | 字段         | 类型          | 说明       |
| ---- | ------------ | ------------- | ---------- |
| Memo | Id           | int           | 主键，自增 |
|      | Title        | nvarchar(100) | 备忘录标题 |
|      | Content      | nvarchar(max) | 备忘录内容 |
|      | CategoryId   | int           | 分类ID     |
|      | ReminderTime | datetime      | 提醒时间   |
|      | CreateTime   | datetime      | 创建时间   |
|      | UpdateTime   | datetime      | 更新时间   |

| 表名     | 字段 | 类型         | 说明       |
| -------- | ---- | ------------ | ---------- |
| Category | Id   | int          | 主键，自增 |
|          | Name | nvarchar(50) | 分类名称   |

---

## 5. 功能模块说明

### 5.1 备忘录管理模块
- 新增备忘录（输入标题、内容、分类）
- 编辑备忘录（修改选中备忘录）
- 删除备忘录（确认删除）

### 5.2 分类管理模块
- 新建/删除分类
- 给备忘录分配分类
- 分类筛选备忘录

### 5.3 标签管理模块
- 新建/删除标签
- 标签筛选备忘录

### 5.4 搜索与排序模块
- 按关键字搜索标题或内容
- 按创建/更新时间排序

### 5.5 提醒功能模块
- 设置提醒时间
- 弹窗提示备忘录
- 可实现基础定时器或后台线程检查

### 5.6 数据管理模块
- 数据持久化到 SQL Server
- 数据备份与恢复功能（可先实现简单的导入/导出 CSV 文件）

---

## 6. 开发计划（示例）

| 阶段           | 时间  | 任务                                      |
| -------------- | ----- | ----------------------------------------- |
| 环境搭建       | Day 1 | 安装 VS、Typora、SQL Server，创建解决方案 |
| 数据库设计     | Day 2 | 创建数据库和表，设计模型类（DbContext）   |
| UI + MVVM      | Day 3 | 创建主界面和 ViewModel，绑定列表和控件    |
| CRUD 功能      | Day 4 | 完成备忘录的新增、编辑、删除功能          |
| 搜索/分类/标签 | Day 5 | 添加搜索、筛选和分类模块                  |
| 提醒功能       | Day 6 | 实现提醒定时功能和弹窗提示                |
| 测试与发布     | Day 7 | 功能测试、UI优化、打包发布                |

---

## 7. 测试与发布

### 7.1 测试
- 单元测试：DbContext、Services
- 集成测试：ViewModel 与 View
- UI测试：控件显示和操作
- 功能验证：新增、编辑、删除、提醒是否正常

### 7.2 发布
- 使用 **MSIX / ClickOnce** 打包成可执行文件  
- 发布前检查数据库连接、依赖包完整性  
- 备份数据库数据  

---

## 8. 开发实践提示
1. **文档与代码同步**：开发过程中随时更新功能模块说明和数据库设计  
2. **模块化开发**：每次完成一个模块再进入下一个  
3. **可运行优先**：先实现可运行基础功能，再优化 UI 和高级功能  
4. **多用表格和列表**：清晰展示信息，便于后续团队或自己查阅  



